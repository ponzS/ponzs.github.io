import{e,r as s,c as a,w as t,j as l,a as r,b as c,t as o,u as i,f as n,C as p,D as u,n as d,F as h,i as v,I as g,p as j,J as k,E as f,o as b}from"./vue-D4wD2Vkb.js";import{u as m,a as y,_ as C}from"./index-DaoSW1E7.js";import"./utils-BrGt3VpK.js";import"./markdown-tTXJ_NsS.js";const x={class:"projects-page"},w={class:"projects-header"},_={class:"projects-container"},S={class:"header-content"},U={class:"page-title"},D={class:"page-description"},F={class:"projects-main"},P={class:"projects-container"},z={class:"filters-section"},I={class:"search-box"},L=["placeholder"],$={class:"category-filters"},G=["onClick"],H={key:0,class:"loading-state"},V={key:1,class:"error-state"},A={key:2,class:"projects-grid"},B=["onClick"],E={class:"project-cover"},J={key:0,class:"featured-badge"},N={class:"project-info"},T={class:"project-meta"},Z={class:"project-category"},q={class:"project-date"},K={class:"project-title"},M={class:"project-excerpt"},O={class:"project-author-stats"},Q={class:"project-author"},R={key:0,class:"project-stars"},W={class:"project-technologies"},X={key:0,class:"tech-more"},Y={class:"project-links"},ee=["href"],se=["href"],ae={key:3,class:"empty-state"},te=C(e({__name:"projects",setup(e){const C=f(),{t:te,isZh:le,locale:re}=m(),{projects:ce,categories:oe,loading:ie,error:ne,loadProjectData:pe,getProjectsByCategory:ue,searchProjects:de,formatDate:he,getStatusText:ve,getLocalizedValue:ge}=y(),je=s(""),ke=s(null),fe=a(()=>{let e=ce.value;return ke.value&&(e=ue(ke.value)),je.value.trim()&&(e=de(je.value.trim())),e}),be=async e=>{try{const s=e.match(/github\.com\/([^/]+)\/([^/]+)/);if(!s)return null;const[,a,t]=s,l=`https://api.github.com/repos/${a}/${t}`,r=await fetch(l);if(!r.ok)return null;return(await r.json()).stargazers_count||0}catch(s){return console.error("Failed to fetch GitHub stars:",s),null}};return t(re,()=>{pe()}),l(async()=>{await pe(),(async()=>{for(const e of ce.value)if(e.githubUrl&&void 0===e.githubStars){const s=await be(e.githubUrl);if(null!==s){const a={...e,githubStars:s},t=ce.value.findIndex(s=>s.id===e.id);-1!==t&&(ce.value[t]=a)}}})()}),(e,s)=>(b(),r("div",x,[c("header",w,[c("div",_,[c("div",S,[c("h1",U,o(i(te)("nav.projects")),1),c("p",D,o(i(le)?"参与的去中心化网状网络开源项目":"Participated decentralized mesh network open source projects"),1)])])]),c("main",F,[c("div",P,[c("div",z,[c("div",I,[p(c("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>je.value=e),type:"text",placeholder:i(le)?"搜索项目...":"Search projects...",class:"search-input"},null,8,L),[[u,je.value]])]),c("div",$,[c("button",{onClick:s[1]||(s[1]=e=>ke.value=null),class:d(["filter-btn",{active:null===ke.value}])},o(i(le)?"全部":"All"),3),(b(!0),r(h,null,v(i(oe),e=>(b(),r("button",{key:e.id,onClick:s=>ke.value=e.id,class:d(["filter-btn",{active:ke.value===e.id}]),style:g({"--category-color":e.color})},o(e.name),15,G))),128))])]),i(ie)?(b(),r("div",H,[s[4]||(s[4]=c("div",{class:"loading-spinner"},null,-1)),c("p",null,o(i(le)?"加载项目中...":"Loading projects..."),1)])):i(ne)?(b(),r("div",V,[c("p",null,o(i(le)?"加载失败：":"Failed to load: ")+o(i(ne)),1)])):(b(),r("div",A,[(b(!0),r(h,null,v(fe.value,e=>{return b(),r("article",{key:e.id,class:"project-card",onClick:s=>{return a=e.slug,void C.push(`/projects/${a}`);var a}},[c("div",E,[s[5]||(s[5]=c("div",{class:"cover-placeholder checkerboard-bg"},[c("span",{class:"project-icon"},"📦")],-1)),c("div",{class:d(["project-status",e.status.toLowerCase()])},o(i(ve)(e.status)),3),e.featured?(b(),r("div",J," ⭐ ")):n("",!0)]),c("div",N,[c("div",T,[c("span",Z,o(e.category),1),c("span",q,o(i(he)(e.publishDate)),1)]),c("h2",K,o(i(ge)(e.title)),1),c("p",M,o(i(ge)(e.excerpt)),1),c("div",O,[c("span",Q,[s[6]||(s[6]=c("span",{class:"author-icon"},"👤",-1)),j(" "+o(e.author),1)]),void 0!==e.githubStars?(b(),r("span",R,[s[7]||(s[7]=c("span",{class:"star-icon"},"⭐",-1)),j(" "+o((a=e.githubStars,a>=1e3?(a/1e3).toFixed(1)+"k":a.toString())),1)])):n("",!0)]),c("div",W,[(b(!0),r(h,null,v(e.technologies.slice(0,4),e=>(b(),r("span",{key:e,class:"tech-tag"},o(e),1))),128)),e.technologies.length>4?(b(),r("span",X," +"+o(e.technologies.length-4),1)):n("",!0)]),c("div",Y,[e.githubUrl?(b(),r("a",{key:0,href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link github-link",onClick:s[2]||(s[2]=k(()=>{},["stop"]))},s[8]||(s[8]=[c("span",{class:"link-icon"},"🔗",-1),j(" GitHub ")]),8,ee)):n("",!0),e.demoUrl?(b(),r("a",{key:1,href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link demo-link",onClick:s[3]||(s[3]=k(()=>{},["stop"]))},[s[9]||(s[9]=c("span",{class:"link-icon"},"🚀",-1)),j(" "+o(i(le)?"演示":"Demo"),1)],8,se)):n("",!0)])])],8,B);var a}),128))])),i(ie)||i(ne)||0!==fe.value.length?n("",!0):(b(),r("div",ae,[c("p",null,o(i(le)?"没有找到匹配的项目":"No projects found"),1)]))])])]))}}),[["__scopeId","data-v-6a1936b8"]]);export{te as default};
