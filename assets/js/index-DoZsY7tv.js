import{C as e,D as t,R as s,L as i,a as o,W as n,b as r,V as a,S as l,c as u,M as c,P as v,d as h,e as p,H as d,F as m,f,B as y,g,h as x,A as w}from"./three.module-BgoqC6Sk.js";import{s as _,r as b,w as k,C as S,D,l as C,E as M,B as z,q as B,p as F,x as T,u as E,O as A,A as V,H as I,J as L,v as R,R as P,F as H,z as j,c as U,G as N,P as O}from"./vue-CRY8e6yQ.js";import{H as $}from"./HeroSection-kq1DltGl.js";import{_ as K,u as q,a as G,b as W,c as X}from"./index-dBr6h4Gn.js";import{G as Y}from"./gun-YLGCaVQN.js";import"./vendor-BzQRwhDR.js";const J=_({__name:"LiquidEther",props:{mouseForce:{default:20},cursorSize:{default:100},isViscous:{type:Boolean,default:!1},viscous:{default:30},iterationsViscous:{default:32},iterationsPoisson:{default:32},dt:{default:.014},BFECC:{type:Boolean,default:!0},resolution:{default:.5},isBounce:{type:Boolean,default:!1},colors:{default:()=>["#5227FF","#FF9FFC","#B19EEF"]},style:{default:()=>({})},className:{default:""},autoDemo:{type:Boolean,default:!0},autoSpeed:{default:.5},autoIntensity:{default:2.2},takeoverDuration:{default:.25},autoResumeDelay:{default:1e3},autoRampDuration:{default:.6}},setup(_){const F=_,T=b(null),E=b(null),A=b(null),V=b(null),I=b(null),L=b(!0),R=b(null),P=()=>{if(!T.value)return;const _=function(n){let r;r=Array.isArray(n)&&n.length>0?1===n.length?[n[0],n[0]]:n:["#ffffff","#ffffff"];const a=r.length,l=new Uint8Array(4*a);for(let t=0;t<a;t++){const s=new e(r[t]);l[4*t+0]=Math.round(255*s.r),l[4*t+1]=Math.round(255*s.g),l[4*t+2]=Math.round(255*s.b),l[4*t+3]=255}const u=new t(l,a,1,s);return u.magFilter=i,u.minFilter=i,u.wrapS=o,u.wrapT=o,u.generateMipmaps=!1,u.needsUpdate=!0,u}(F.colors),b=new p(0,0,0,0);const k=new class{width=0;height=0;aspect=1;pixelRatio=1;isMobile=!1;breakpoint=768;fboWidth=null;fboHeight=null;time=0;delta=0;container=null;renderer=null;clock=null;init(t){this.container=t,this.pixelRatio=Math.min(window.devicePixelRatio||1,2),this.resize(),this.renderer=new n({antialias:!0,alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(new e(0),0),this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setSize(this.width,this.height);const s=this.renderer.domElement;s.style.width="100%",s.style.height="100%",s.style.display="block",this.clock=new r,this.clock.start()}resize(){if(!this.container)return;const e=this.container.getBoundingClientRect();this.width=Math.max(1,Math.floor(e.width)),this.height=Math.max(1,Math.floor(e.height)),this.aspect=this.width/this.height,this.renderer&&this.renderer.setSize(this.width,this.height,!1)}update(){this.clock&&(this.delta=this.clock.getDelta(),this.time+=this.delta)}};const S=new class{mouseMoved=!1;coords=new a;coords_old=new a;diff=new a;timer=null;container=null;isHoverInside=!1;hasUserControl=!1;isAutoActive=!1;autoIntensity=2;takeoverActive=!1;takeoverStartTime=0;takeoverDuration=.25;takeoverFrom=new a;takeoverTo=new a;onInteract=null;_onMouseMove=this.onDocumentMouseMove.bind(this);_onTouchStart=this.onDocumentTouchStart.bind(this);_onTouchMove=this.onDocumentTouchMove.bind(this);_onMouseEnter=this.onMouseEnter.bind(this);_onMouseLeave=this.onMouseLeave.bind(this);_onTouchEnd=this.onTouchEnd.bind(this);init(e){this.container=e,e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("mouseenter",this._onMouseEnter),e.addEventListener("mouseleave",this._onMouseLeave),e.addEventListener("touchend",this._onTouchEnd)}dispose(){const e=this.container;e&&(e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("mouseenter",this._onMouseEnter),e.removeEventListener("mouseleave",this._onMouseLeave),e.removeEventListener("touchend",this._onTouchEnd))}setCoords(e,t){if(!this.container)return;this.timer&&window.clearTimeout(this.timer);const s=this.container.getBoundingClientRect(),i=(e-s.left)/s.width,o=(t-s.top)/s.height;this.coords.set(2*i-1,-(2*o-1)),this.mouseMoved=!0,this.timer=window.setTimeout(()=>{this.mouseMoved=!1},100)}setNormalized(e,t){this.coords.set(e,t),this.mouseMoved=!0}onDocumentMouseMove(e){if(this.onInteract&&this.onInteract(),this.isAutoActive&&!this.hasUserControl&&!this.takeoverActive){if(!this.container)return;const t=this.container.getBoundingClientRect(),s=(e.clientX-t.left)/t.width,i=(e.clientY-t.top)/t.height;return this.takeoverFrom.copy(this.coords),this.takeoverTo.set(2*s-1,-(2*i-1)),this.takeoverStartTime=performance.now(),this.takeoverActive=!0,this.hasUserControl=!0,void(this.isAutoActive=!1)}this.setCoords(e.clientX,e.clientY),this.hasUserControl=!0}onDocumentTouchStart(e){if(1===e.touches.length){const t=e.touches[0];this.onInteract&&this.onInteract(),this.setCoords(t.pageX,t.pageY),this.hasUserControl=!0}}onDocumentTouchMove(e){if(1===e.touches.length){const t=e.touches[0];this.onInteract&&this.onInteract(),this.setCoords(t.pageX,t.pageY)}}onTouchEnd(){this.isHoverInside=!1}onMouseEnter(){this.isHoverInside=!0}onMouseLeave(){this.isHoverInside=!1}update(){if(this.takeoverActive){const e=(performance.now()-this.takeoverStartTime)/(1e3*this.takeoverDuration);if(e>=1)this.takeoverActive=!1,this.coords.copy(this.takeoverTo),this.coords_old.copy(this.coords),this.diff.set(0,0);else{const t=e*e*(3-2*e);this.coords.copy(this.takeoverFrom).lerp(this.takeoverTo,t)}}this.diff.subVectors(this.coords,this.coords_old),this.coords_old.copy(this.coords),0===this.coords_old.x&&0===this.coords_old.y&&this.diff.set(0,0),this.isAutoActive&&!this.takeoverActive&&this.diff.multiplyScalar(this.autoIntensity)}};class D{mouse;manager;enabled;speed;resumeDelay;rampDurationMs;active=!1;current=new a(0,0);target=new a;lastTime=performance.now();activationTime=0;margin=.2;_tmpDir=new a;constructor(e,t,s){this.mouse=e,this.manager=t,this.enabled=s.enabled,this.speed=s.speed,this.resumeDelay=s.resumeDelay||3e3,this.rampDurationMs=1e3*(s.rampDuration||0),this.pickNewTarget()}pickNewTarget(){const e=Math.random;this.target.set((2*e()-1)*(1-this.margin),(2*e()-1)*(1-this.margin))}forceStop(){this.active=!1,this.mouse.isAutoActive=!1}update(){if(!this.enabled)return;const e=performance.now();if(e-this.manager.lastUserInteraction<this.resumeDelay)return void(this.active&&this.forceStop());if(this.mouse.isHoverInside)return void(this.active&&this.forceStop());if(this.active||(this.active=!0,this.current.copy(this.mouse.coords),this.lastTime=e,this.activationTime=e),!this.active)return;this.mouse.isAutoActive=!0;let t=(e-this.lastTime)/1e3;this.lastTime=e,t>.2&&(t=.016);const s=this._tmpDir.subVectors(this.target,this.current),i=s.length();if(i<.01)return void this.pickNewTarget();s.normalize();let o=1;if(this.rampDurationMs>0){const t=Math.min(1,(e-this.activationTime)/this.rampDurationMs);o=t*t*(3-2*t)}const n=this.speed*t*o,r=Math.min(n,i);this.current.addScaledVector(s,r),this.mouse.setNormalized(this.current.x,this.current.y)}}const C="\n    attribute vec3 position;\n    uniform vec2 px;\n    uniform vec2 boundarySpace;\n    varying vec2 uv;\n    precision highp float;\n    void main(){\n    vec3 pos = position;\n    vec2 scale = 1.0 - boundarySpace * 2.0;\n    pos.xy = pos.xy * scale;\n    uv = vec2(0.5)+(pos.xy)*0.5;\n    gl_Position = vec4(pos, 1.0);\n  }\n  ",M="\n      precision highp float;\n      uniform sampler2D velocity;\n      uniform float dt;\n      uniform bool isBFECC;\n      uniform vec2 fboSize;\n      uniform vec2 px;\n      varying vec2 uv;\n      void main(){\n      vec2 ratio = max(fboSize.x, fboSize.y) / fboSize;\n      if(isBFECC == false){\n          vec2 vel = texture2D(velocity, uv).xy;\n          vec2 uv2 = uv - vel * dt * ratio;\n          vec2 newVel = texture2D(velocity, uv2).xy;\n          gl_FragColor = vec4(newVel, 0.0, 0.0);\n      } else {\n          vec2 spot_new = uv;\n          vec2 vel_old = texture2D(velocity, uv).xy;\n          vec2 spot_old = spot_new - vel_old * dt * ratio;\n          vec2 vel_new1 = texture2D(velocity, spot_old).xy;\n          vec2 spot_new2 = spot_old + vel_new1 * dt * ratio;\n          vec2 error = spot_new2 - spot_new;\n          vec2 spot_new3 = spot_new - error / 2.0;\n          vec2 vel_2 = texture2D(velocity, spot_new3).xy;\n          vec2 spot_old2 = spot_new3 - vel_2 * dt * ratio;\n          vec2 newVel2 = texture2D(velocity, spot_old2).xy; \n          gl_FragColor = vec4(newVel2, 0.0, 0.0);\n      }\n  }\n  ";class z{props;uniforms;scene=null;camera=null;material=null;geometry=null;plane=null;constructor(e){this.props=e||{},this.uniforms=this.props.material?.uniforms}init(...e){this.scene=new l,this.camera=new u,this.uniforms&&(this.material=new h(this.props.material),this.geometry=new v(2,2),this.plane=new c(this.geometry,this.material),this.scene.add(this.plane))}update(...e){k.renderer&&this.scene&&this.camera&&(k.renderer.setRenderTarget(this.props.output||null),k.renderer.render(this.scene,this.camera),k.renderer.setRenderTarget(null))}}class B extends z{line;constructor(e){super({material:{vertexShader:C,fragmentShader:M,uniforms:{boundarySpace:{value:e.cellScale},px:{value:e.cellScale},fboSize:{value:e.fboSize},velocity:{value:e.src.texture},dt:{value:e.dt},isBFECC:{value:!0}}},output:e.dst}),this.uniforms=this.props.material.uniforms,this.init()}init(){super.init(),this.createBoundary()}createBoundary(){const e=new y,t=new Float32Array([-1,-1,0,-1,1,0,-1,1,0,1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0]);e.setAttribute("position",new g(t,3));const s=new h({vertexShader:"\n    attribute vec3 position;\n    uniform vec2 px;\n    precision highp float;\n    varying vec2 uv;\n    void main(){\n    vec3 pos = position;\n    uv = 0.5 + pos.xy * 0.5;\n    vec2 n = sign(pos.xy);\n    pos.xy = abs(pos.xy) - px * 1.0;\n    pos.xy *= n;\n    gl_Position = vec4(pos, 1.0);\n  }\n  ",fragmentShader:M,uniforms:this.uniforms});this.line=new x(e,s),this.scene.add(this.line)}update(...e){const{dt:t,isBounce:s,BFECC:i}=e[0]||{};this.uniforms&&("number"==typeof t&&(this.uniforms.dt.value=t),"boolean"==typeof s&&(this.line.visible=s),"boolean"==typeof i&&(this.uniforms.isBFECC.value=i),super.update())}}class P extends z{mouse;constructor(e){super({output:e.dst}),this.init(e)}init(e){super.init();const t=new v(1,1),s=new h({vertexShader:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec2 uv;\n      uniform vec2 center;\n      uniform vec2 scale;\n      uniform vec2 px;\n      varying vec2 vUv;\n      void main(){\n      vec2 pos = position.xy * scale * 2.0 * px + center;\n      vUv = uv;\n      gl_Position = vec4(pos, 0.0, 1.0);\n  }\n  ",fragmentShader:"\n      precision highp float;\n      uniform vec2 force;\n      uniform vec2 center;\n      uniform vec2 scale;\n      uniform vec2 px;\n      varying vec2 vUv;\n      void main(){\n      vec2 circle = (vUv - 0.5) * 2.0;\n      float d = 1.0 - min(length(circle), 1.0);\n      d *= d;\n      gl_FragColor = vec4(force * d, 0.0, 1.0);\n  }\n  ",blending:w,depthWrite:!1,uniforms:{px:{value:e.cellScale},force:{value:new a(0,0)},center:{value:new a(0,0)},scale:{value:new a(e.cursor_size,e.cursor_size)}}});this.mouse=new c(t,s),this.scene.add(this.mouse)}update(...e){const t=e[0]||{},s=S.diff.x/2*(t.mouse_force||0),i=S.diff.y/2*(t.mouse_force||0),o=t.cellScale||{x:1,y:1},n=t.cursor_size||0,r=n*o.x,a=n*o.y,l=Math.min(Math.max(S.coords.x,-1+r+2*o.x),1-r-2*o.x),u=Math.min(Math.max(S.coords.y,-1+a+2*o.y),1-a-2*o.y),c=this.mouse.material.uniforms;c.force.value.set(s,i),c.center.value.set(l,u),c.scale.value.set(n,n),super.update()}}class H extends z{constructor(e){super({material:{vertexShader:C,fragmentShader:"\n      precision highp float;\n      uniform sampler2D velocity;\n      uniform sampler2D velocity_new;\n      uniform float v;\n      uniform vec2 px;\n      uniform float dt;\n      varying vec2 uv;\n      void main(){\n      vec2 old = texture2D(velocity, uv).xy;\n      vec2 new0 = texture2D(velocity_new, uv + vec2(px.x * 2.0, 0.0)).xy;\n      vec2 new1 = texture2D(velocity_new, uv - vec2(px.x * 2.0, 0.0)).xy;\n      vec2 new2 = texture2D(velocity_new, uv + vec2(0.0, px.y * 2.0)).xy;\n      vec2 new3 = texture2D(velocity_new, uv - vec2(0.0, px.y * 2.0)).xy;\n      vec2 newv = 4.0 * old + v * dt * (new0 + new1 + new2 + new3);\n      newv /= 4.0 * (1.0 + v * dt);\n      gl_FragColor = vec4(newv, 0.0, 0.0);\n  }\n  ",uniforms:{boundarySpace:{value:e.boundarySpace},velocity:{value:e.src.texture},velocity_new:{value:e.dst_.texture},v:{value:e.viscous},px:{value:e.cellScale},dt:{value:e.dt}}},output:e.dst,output0:e.dst_,output1:e.dst}),this.init()}update(...e){const{viscous:t,iterations:s,dt:i}=e[0]||{};if(!this.uniforms)return;let o,n;"number"==typeof t&&(this.uniforms.v.value=t);const r=s??0;for(let a=0;a<r;a++)a%2==0?(o=this.props.output0,n=this.props.output1):(o=this.props.output1,n=this.props.output0),this.uniforms.velocity_new.value=o.texture,this.props.output=n,"number"==typeof i&&(this.uniforms.dt.value=i),super.update();return n}}class j extends z{constructor(e){super({material:{vertexShader:C,fragmentShader:"\n      precision highp float;\n      uniform sampler2D velocity;\n      uniform float dt;\n      uniform vec2 px;\n      varying vec2 uv;\n      void main(){\n      float x0 = texture2D(velocity, uv-vec2(px.x, 0.0)).x;\n      float x1 = texture2D(velocity, uv+vec2(px.x, 0.0)).x;\n      float y0 = texture2D(velocity, uv-vec2(0.0, px.y)).y;\n      float y1 = texture2D(velocity, uv+vec2(0.0, px.y)).y;\n      float divergence = (x1 - x0 + y1 - y0) / 2.0;\n      gl_FragColor = vec4(divergence / dt);\n  }\n  ",uniforms:{boundarySpace:{value:e.boundarySpace},velocity:{value:e.src.texture},px:{value:e.cellScale},dt:{value:e.dt}}},output:e.dst}),this.init()}update(...e){const{vel:t}=e[0]||{};this.uniforms&&t&&(this.uniforms.velocity.value=t.texture),super.update()}}class U extends z{constructor(e){super({material:{vertexShader:C,fragmentShader:"\n      precision highp float;\n      uniform sampler2D pressure;\n      uniform sampler2D divergence;\n      uniform vec2 px;\n      varying vec2 uv;\n      void main(){\n      float p0 = texture2D(pressure, uv + vec2(px.x * 2.0, 0.0)).r;\n      float p1 = texture2D(pressure, uv - vec2(px.x * 2.0, 0.0)).r;\n      float p2 = texture2D(pressure, uv + vec2(0.0, px.y * 2.0)).r;\n      float p3 = texture2D(pressure, uv - vec2(0.0, px.y * 2.0)).r;\n      float div = texture2D(divergence, uv).r;\n      float newP = (p0 + p1 + p2 + p3) / 4.0 - div;\n      gl_FragColor = vec4(newP);\n  }\n  ",uniforms:{boundarySpace:{value:e.boundarySpace},pressure:{value:e.dst_.texture},divergence:{value:e.src.texture},px:{value:e.cellScale}}},output:e.dst,output0:e.dst_,output1:e.dst}),this.init()}update(...e){const{iterations:t}=e[0]||{};let s,i;const o=t??0;for(let n=0;n<o;n++)n%2==0?(s=this.props.output0,i=this.props.output1):(s=this.props.output1,i=this.props.output0),this.uniforms&&(this.uniforms.pressure.value=s.texture),this.props.output=i,super.update();return i}}class N extends z{constructor(e){super({material:{vertexShader:C,fragmentShader:"\n      precision highp float;\n      uniform sampler2D pressure;\n      uniform sampler2D velocity;\n      uniform vec2 px;\n      uniform float dt;\n      varying vec2 uv;\n      void main(){\n      float step = 1.0;\n      float p0 = texture2D(pressure, uv + vec2(px.x * step, 0.0)).r;\n      float p1 = texture2D(pressure, uv - vec2(px.x * step, 0.0)).r;\n      float p2 = texture2D(pressure, uv + vec2(0.0, px.y * step)).r;\n      float p3 = texture2D(pressure, uv - vec2(0.0, px.y * step)).r;\n      vec2 v = texture2D(velocity, uv).xy;\n      vec2 gradP = vec2(p0 - p1, p2 - p3) * 0.5;\n      v = v - gradP * dt;\n      gl_FragColor = vec4(v, 0.0, 1.0);\n  }\n  ",uniforms:{boundarySpace:{value:e.boundarySpace},pressure:{value:e.src_p.texture},velocity:{value:e.src_v.texture},px:{value:e.cellScale},dt:{value:e.dt}}},output:e.dst}),this.init()}update(...e){const{vel:t,pressure:s}=e[0]||{};this.uniforms&&t&&s&&(this.uniforms.velocity.value=t.texture,this.uniforms.pressure.value=s.texture),super.update()}}class O{options;fbos={vel_0:null,vel_1:null,vel_viscous0:null,vel_viscous1:null,div:null,pressure_0:null,pressure_1:null};fboSize=new a;cellScale=new a;boundarySpace=new a;advection;externalForce;viscous;divergence;poisson;pressure;constructor(e){this.options={iterations_poisson:32,iterations_viscous:32,mouse_force:20,resolution:.5,cursor_size:100,viscous:30,isBounce:!1,dt:.014,isViscous:!1,BFECC:!0,...e},this.init()}init(){this.calcSize(),this.createAllFBO(),this.createShaderPass()}getFloatType(){return/(iPad|iPhone|iPod)/i.test(navigator.userAgent)?d:m}createAllFBO(){const e={type:this.getFloatType(),depthBuffer:!1,stencilBuffer:!1,minFilter:i,magFilter:i,wrapS:o,wrapT:o};for(const t in this.fbos)this.fbos[t]=new f(this.fboSize.x,this.fboSize.y,e)}createShaderPass(){this.advection=new B({cellScale:this.cellScale,fboSize:this.fboSize,dt:this.options.dt,src:this.fbos.vel_0,dst:this.fbos.vel_1}),this.externalForce=new P({cellScale:this.cellScale,cursor_size:this.options.cursor_size,dst:this.fbos.vel_1}),this.viscous=new H({cellScale:this.cellScale,boundarySpace:this.boundarySpace,viscous:this.options.viscous,src:this.fbos.vel_1,dst:this.fbos.vel_viscous1,dst_:this.fbos.vel_viscous0,dt:this.options.dt}),this.divergence=new j({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.vel_viscous0,dst:this.fbos.div,dt:this.options.dt}),this.poisson=new U({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.div,dst:this.fbos.pressure_1,dst_:this.fbos.pressure_0}),this.pressure=new N({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src_p:this.fbos.pressure_0,src_v:this.fbos.vel_viscous0,dst:this.fbos.vel_0,dt:this.options.dt})}calcSize(){const e=Math.max(1,Math.round(this.options.resolution*k.width)),t=Math.max(1,Math.round(this.options.resolution*k.height));this.cellScale.set(1/e,1/t),this.fboSize.set(e,t)}resize(){this.calcSize();for(const e in this.fbos)this.fbos[e].setSize(this.fboSize.x,this.fboSize.y)}update(){this.options.isBounce?this.boundarySpace.set(0,0):this.boundarySpace.copy(this.cellScale),this.advection.update({dt:this.options.dt,isBounce:this.options.isBounce,BFECC:this.options.BFECC}),this.externalForce.update({cursor_size:this.options.cursor_size,mouse_force:this.options.mouse_force,cellScale:this.cellScale});let e=this.fbos.vel_1;this.options.isViscous&&(e=this.viscous.update({viscous:this.options.viscous,iterations:this.options.iterations_viscous,dt:this.options.dt})),this.divergence.update({vel:e});const t=this.poisson.update({iterations:this.options.iterations_poisson});this.pressure.update({vel:e,pressure:t})}}class ${simulation;scene;camera;output;constructor(){this.simulation=new O,this.scene=new l,this.camera=new u,this.output=new c(new v(2,2),new h({vertexShader:C,fragmentShader:"\n      precision highp float;\n      uniform sampler2D velocity;\n      uniform sampler2D palette;\n      uniform vec4 bgColor;\n      varying vec2 uv;\n      void main(){\n      vec2 vel = texture2D(velocity, uv).xy;\n      float lenv = clamp(length(vel), 0.0, 1.0);\n      vec3 c = texture2D(palette, vec2(lenv, 0.5)).rgb;\n      vec3 outRGB = mix(bgColor.rgb, c, lenv);\n      float outA = mix(bgColor.a, 1.0, lenv);\n      gl_FragColor = vec4(outRGB, outA);\n  }\n  ",transparent:!0,depthWrite:!1,uniforms:{velocity:{value:this.simulation.fbos.vel_0.texture},boundarySpace:{value:new a},palette:{value:_},bgColor:{value:b}}})),this.scene.add(this.output)}resize(){this.simulation.resize()}render(){k.renderer&&(k.renderer.setRenderTarget(null),k.renderer.render(this.scene,this.camera))}update(){this.simulation.update(),this.render()}}const K=T.value;K.style.position=K.style.position||"relative",K.style.overflow=K.style.overflow||"hidden";const q=new class{props;output;autoDriver;lastUserInteraction=performance.now();running=!1;_loop=this.loop.bind(this);_resize=this.resize.bind(this);_onVisibility;constructor(e){this.props=e,k.init(e.$wrapper),S.init(e.$wrapper),S.autoIntensity=e.autoIntensity,S.takeoverDuration=e.takeoverDuration,S.onInteract=()=>{this.lastUserInteraction=performance.now(),this.autoDriver&&this.autoDriver.forceStop()},this.autoDriver=new D(S,this,{enabled:e.autoDemo,speed:e.autoSpeed,resumeDelay:e.autoResumeDelay,rampDuration:e.autoRampDuration}),this.init(),window.addEventListener("resize",this._resize),this._onVisibility=()=>{document.hidden?this.pause():L.value&&this.start()},document.addEventListener("visibilitychange",this._onVisibility)}init(){k.renderer&&(this.props.$wrapper.prepend(k.renderer.domElement),this.output=new $)}resize(){k.resize(),this.output.resize()}render(){this.autoDriver&&this.autoDriver.update(),S.update(),k.update(),this.output.update()}loop(){this.running&&(this.render(),V.value=requestAnimationFrame(this._loop))}start(){this.running||(this.running=!0,this._loop())}pause(){this.running=!1,V.value&&(cancelAnimationFrame(V.value),V.value=null)}dispose(){try{if(window.removeEventListener("resize",this._resize),this._onVisibility&&document.removeEventListener("visibilitychange",this._onVisibility),S.dispose(),k.renderer){const e=k.renderer.domElement;e&&e.parentNode&&e.parentNode.removeChild(e),k.renderer.dispose()}}catch{}}}({$wrapper:K,autoDemo:F.autoDemo,autoSpeed:F.autoSpeed,autoIntensity:F.autoIntensity,takeoverDuration:F.takeoverDuration,autoResumeDelay:F.autoResumeDelay,autoRampDuration:F.autoRampDuration});E.value=q;(()=>{if(!E.value)return;const e=E.value.output?.simulation;if(!e)return;const t=e.options.resolution;Object.assign(e.options,{mouse_force:F.mouseForce,cursor_size:F.cursorSize,isViscous:F.isViscous,viscous:F.viscous,iterations_viscous:F.iterationsViscous,iterations_poisson:F.iterationsPoisson,dt:F.dt,BFECC:F.BFECC,resolution:F.resolution,isBounce:F.isBounce}),F.resolution!==t&&e.resize()})(),q.start();const G=new IntersectionObserver(e=>{const t=e[0],s=t.isIntersecting&&t.intersectionRatio>0;L.value=s,E.value&&(s&&!document.hidden?E.value.start():E.value.pause())},{threshold:[0,.01,.1]});G.observe(K),I.value=G;const W=new ResizeObserver(()=>{E.value&&(R.value&&cancelAnimationFrame(R.value),R.value=requestAnimationFrame(()=>{E.value&&E.value.resize()}))});W.observe(K),A.value=W};return k(()=>[F.mouseForce,F.cursorSize,F.isViscous,F.viscous,F.iterationsViscous,F.iterationsPoisson,F.dt,F.BFECC,F.resolution,F.isBounce,F.autoDemo,F.autoSpeed,F.autoIntensity,F.takeoverDuration,F.autoResumeDelay,F.autoRampDuration],()=>{const e=E.value;if(!e)return;const t=e.output?.simulation;if(!t)return;const s=t.options.resolution;Object.assign(t.options,{mouse_force:F.mouseForce,cursor_size:F.cursorSize,isViscous:F.isViscous,viscous:F.viscous,iterations_viscous:F.iterationsViscous,iterations_poisson:F.iterationsPoisson,dt:F.dt,BFECC:F.BFECC,resolution:F.resolution,isBounce:F.isBounce}),e.autoDriver&&(e.autoDriver.enabled=F.autoDemo,e.autoDriver.speed=F.autoSpeed,e.autoDriver.resumeDelay=F.autoResumeDelay,e.autoDriver.rampDurationMs=1e3*F.autoRampDuration,e.autoDriver.mouse&&(e.autoDriver.mouse.autoIntensity=F.autoIntensity,e.autoDriver.mouse.takeoverDuration=F.takeoverDuration)),F.resolution!==s&&t.resize()}),S(()=>{P()}),D(()=>{if(V.value&&cancelAnimationFrame(V.value),A.value)try{A.value.disconnect()}catch{}if(I.value)try{I.value.disconnect()}catch{}E.value&&E.value.dispose(),E.value=null}),(e,t)=>(B(),C("div",{ref_key:"mountRef",ref:T,class:z(`w-full h-full relative overflow-hidden ${e.className||""}`),style:M(e.style)},null,6))}}),Q={class:"feature-card"},Z={class:"feature-title"},ee={class:"feature-description"},te=["href","target"],se=K(_({__name:"FeatureCard",props:{title:{},description:{},iconClass:{default:"blue-glow"},linkTo:{},linkHref:{},linkText:{},linkTarget:{default:"_self"}},setup:e=>(e,t)=>(B(),C("div",Q,[F("div",{class:z(["feature-icon",e.iconClass])},[A(e.$slots,"icon",{},()=>[F("svg",{viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])])],2),F("h3",Z,V(e.title),1),F("p",ee,V(e.description),1),e.linkTo?(B(),T(R(P),{key:0,to:e.linkTo,class:"feature-link"},{default:I(()=>[L(V(e.linkText||"了解更多")+" ",1),t[0]||(t[0]=F("svg",{class:"link-arrow",viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1,__:[0]},8,["to"])):e.linkHref?(B(),C("a",{key:1,href:e.linkHref,class:"feature-link",target:e.linkTarget},[L(V(e.linkText||"了解更多")+" ",1),t[1]||(t[1]=F("svg",{class:"link-arrow",viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))],8,te)):E("",!0)]))}),[["__scopeId","data-v-e6ab7559"]]),ie={class:"article-content"},oe={key:0,class:"article-meta"},ne={key:0,class:"meta-date"},re={key:1,class:"meta-separator"},ae={key:2,class:"meta-category"},le={class:"article-title"},ue={key:1,class:"article-excerpt"},ce={key:2,class:"article-tags"},ve=K(_({__name:"ArticleCard",props:{title:{},excerpt:{},date:{},category:{},tags:{},imageClass:{default:"blue-gradient"},linkTo:{},linkHref:{},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){const s=e,i=t,o=e=>{if(!e)return"";return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})},n=()=>{if(s.clickable){if(s.linkTo){r().push(s.linkTo)}else s.linkHref&&window.open(s.linkHref,"_blank");i("click")}},r=()=>({push:e=>{window.location.href=e}});return(e,t)=>(B(),C("article",{class:"article-card",onClick:n},[F("div",{class:z(["article-image",e.imageClass])},[t[0]||(t[0]=F("div",{class:"image-overlay"},null,-1)),A(e.$slots,"image",{},void 0)],2),F("div",ie,[e.date||e.category?(B(),C("div",oe,[e.date?(B(),C("span",ne,V(o(e.date)),1)):E("",!0),e.date&&e.category?(B(),C("span",re,"•")):E("",!0),e.category?(B(),C("span",ae,V(e.category),1)):E("",!0)])):E("",!0),F("h3",le,V(e.title),1),e.excerpt?(B(),C("p",ue,V(e.excerpt),1)):E("",!0),e.tags&&e.tags.length?(B(),C("div",ce,[(B(!0),C(H,null,j(e.tags,e=>(B(),C("span",{class:"tag",key:e},V(e),1))),128))])):E("",!0)])]))}}),[["__scopeId","data-v-7dc3e187"]]);b(null),b(null),b(new Map),b(!1),b(null);const he={style:{width:"100%",height:"100dvh",position:"absolute",top:"0",left:"0","z-index":"1"}},pe={class:"gun-avatar-section"},de={class:"gun-avatar-container"},me={class:"avatar-wrapper"},fe={style:{width:"300px",height:"300px"}},ye=["src"],ge={class:"avatar-status"},xe={class:"status-text"},we={class:"keypair-info"},_e={class:"info-header"},be={class:"info-title"},ke={class:"keypair-display"},Se={class:"key-field"},De={class:"key-label"},Ce={class:"key-value"},Me={key:0,class:"key-field"},ze={class:"key-label"},Be={class:"key-value keypair-json"},Fe={class:"features-section"},Te={class:"features-container"},Ee={class:"articles-section"},Ae={class:"articles-header"},Ve={class:"section-title"},Ie={class:"articles-grid"},Le=K(_({__name:"index",setup(e){const{myPublicKey:t,myKeyPair:s,regenerateKeyPair:i}=q(),o=O(),{initLocale:n,locale:r,setLocale:a,t:l}=G(),u=W(),{iscolor:c}=X(),v=U(()=>u.homePosts.slice(0,3));S(()=>{n(),u.loadHomeBlogListData(r.value)});const h=U(()=>Y({pub:t.value,dark:c}));return(e,n)=>{const r=J;return B(),C("div",null,[F("div",he,[N(r,{mouseForce:20,cursorSize:100,isViscous:!1,viscous:30,iterationsViscous:32,iterationsPoisson:32,resolution:.5,isBounce:!1,autoDemo:!0,autoSpeed:.5,autoIntensity:2.2,takeoverDuration:.25,autoResumeDelay:3e3,autoRampDuration:.6})]),N($,{title:R(l)("home.hero.title"),"highlight-text":"Developer",subtitle:R(l)("home.hero.subtitle")},{actions:I(()=>[N(R(P),{to:"/blog",class:"primary-button"},{default:I(()=>[F("span",null,V(R(l)("home.hero.startExploring")),1),n[1]||(n[1]=F("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1,__:[1]}),N(R(P),{to:"/about",class:"secondary-button"},{default:I(()=>[F("span",null,V(R(l)("home.hero.aboutMe")),1)]),_:1})]),_:1},8,["title","subtitle"]),F("section",pe,[F("div",de,[F("div",me,[F("div",fe,[F("img",{src:h.value,alt:"",class:"avatar-object"},null,8,ye)]),F("div",ge,[n[2]||(n[2]=F("span",{class:"status-indicator"},null,-1)),F("span",xe,V(R(t)?R(l)("home.gunAvatar.connected").toUpperCase():R(l)("home.gunAvatar.disconnected").toUpperCase()),1)])]),F("div",we,[F("div",_e,[F("h3",be,V(R(l)("home.gunAvatar.title")),1),F("button",{onClick:n[0]||(n[0]=(...e)=>R(i)&&R(i)(...e)),class:"generate-button"},[n[3]||(n[3]=F("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),F("span",null,V(R(l)("home.gunAvatar.regenerate").toUpperCase()),1)])]),F("div",ke,[F("div",Se,[F("label",De,V(R(l)("home.gunAvatar.publicKey").toUpperCase())+":",1),F("div",Ce,V(R(t)||R(l)("home.gunAvatar.notGenerated")),1)]),R(s)?(B(),C("div",Me,[F("label",ze,V(R(l)("home.gunAvatar.completeKeypair").toUpperCase())+":",1),F("div",Be,V(JSON.stringify(R(s),null,2)),1)])):E("",!0)])])])]),F("section",Fe,[F("div",Te,[N(se,{title:R(l)("home.features.techBlog.title"),description:R(l)("home.features.techBlog.description"),"link-to":"/blog","link-text":R(l)("home.features.techBlog.linkText"),"icon-class":"blue-glow"},{icon:I(()=>n[4]||(n[4]=[F("svg",{viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["title","description","link-text"]),N(se,{title:R(l)("home.features.meshNetwork.title"),description:R(l)("home.features.meshNetwork.description"),"link-to":"/network","link-text":R(l)("home.features.meshNetwork.linkText"),"icon-class":"green-glow"},{icon:I(()=>n[5]||(n[5]=[F("svg",{viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["title","description","link-text"]),N(se,{title:R(l)("home.features.innovativeProjects.title"),description:R(l)("home.features.innovativeProjects.description"),"link-to":"/projects","link-text":R(l)("home.features.innovativeProjects.linkText"),"icon-class":"purple-glow"},{icon:I(()=>n[6]||(n[6]=[F("svg",{viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["title","description","link-text"])])]),F("section",Ee,[F("div",Ae,[F("h2",Ve,V(R(l)("home.articles.title")),1),N(R(P),{to:"/blog",class:"view-all-link"},{default:I(()=>[L(V(R(l)("home.articles.viewAll"))+" ",1),n[7]||(n[7]=F("svg",{class:"link-arrow",viewBox:"0 0 24 24",fill:"none"},[F("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1,__:[7]})]),F("div",Ie,[(B(!0),C(H,null,j(v.value,e=>(B(),T(ve,{key:e.id,title:e.title,excerpt:e.excerpt,date:e.publishDate,category:e.category,tags:e.tags,onClick:t=>{return s=e.slug,u.setCurrentPostBySlug(s),void o.push("/blogpage");var s},"image-class":"blue-gradient"},null,8,["title","excerpt","date","category","tags","onClick"]))),128))])])])}}}),[["__scopeId","data-v-b806beb5"]]);export{Le as default};
