import{s as e,l as t,p as a,x as s,u as o,B as l,M as r,A as i,G as n,H as c,v as u,R as d,q as g,F as p,z as v,c as k,r as h,C as m,E as f,N as y}from"./vue-D_SvuEeF.js";import{H as w}from"./HeroSection-C9Ovhjuc.js";import{_ as C,u as b,a as x,b as T}from"./index-BA8zT8GB.js";import{u as _}from"./blog-BmVGgOKa.js";import{G as j}from"./gun-CRodFP7D.js";import"./vendor-7a5jsvqZ.js";const M={class:"feature-card"},B={class:"feature-title"},D={class:"feature-description"},L=["href","target"],P=C(e({__name:"FeatureCard",props:{title:{},description:{},iconClass:{default:"blue-glow"},linkTo:{},linkHref:{},linkText:{},linkTarget:{default:"_self"}},setup:e=>(e,p)=>(g(),t("div",M,[a("div",{class:l(["feature-icon",e.iconClass])},[r(e.$slots,"icon",{},()=>[a("svg",{viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])])],2),a("h3",B,i(e.title),1),a("p",D,i(e.description),1),e.linkTo?(g(),s(u(d),{key:0,to:e.linkTo,class:"feature-link"},{default:n(()=>[c(i(e.linkText||"了解更多")+" ",1),p[0]||(p[0]=a("svg",{class:"link-arrow",viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1,__:[0]},8,["to"])):e.linkHref?(g(),t("a",{key:1,href:e.linkHref,class:"feature-link",target:e.linkTarget},[c(i(e.linkText||"了解更多")+" ",1),p[1]||(p[1]=a("svg",{class:"link-arrow",viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))],8,L)):o("",!0)]))}),[["__scopeId","data-v-e6ab7559"]]),H={class:"article-content"},A={key:0,class:"article-meta"},S={key:0,class:"meta-date"},E={key:1,class:"meta-separator"},N={key:2,class:"meta-category"},$={class:"article-title"},z={key:1,class:"article-excerpt"},U={key:2,class:"article-tags"},V=C(e({__name:"ArticleCard",props:{title:{},excerpt:{},date:{},category:{},tags:{},imageClass:{default:"blue-gradient"},linkTo:{},linkHref:{},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:s}){const n=e,c=s,u=e=>{if(!e)return"";return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})},d=()=>{if(n.clickable){if(n.linkTo){k().push(n.linkTo)}else n.linkHref&&window.open(n.linkHref,"_blank");c("click")}},k=()=>({push:e=>{window.location.href=e}});return(e,s)=>(g(),t("article",{class:"article-card",onClick:d},[a("div",{class:l(["article-image",e.imageClass])},[s[0]||(s[0]=a("div",{class:"image-overlay"},null,-1)),r(e.$slots,"image",{},void 0)],2),a("div",H,[e.date||e.category?(g(),t("div",A,[e.date?(g(),t("span",S,i(u(e.date)),1)):o("",!0),e.date&&e.category?(g(),t("span",E,"•")):o("",!0),e.category?(g(),t("span",N,i(e.category),1)):o("",!0)])):o("",!0),a("h3",$,i(e.title),1),e.excerpt?(g(),t("p",z,i(e.excerpt),1)):o("",!0),e.tags&&e.tags.length?(g(),t("div",U,[(g(!0),t(p,null,v(e.tags,e=>(g(),t("span",{class:"tag",key:e},i(e),1))),128))])):o("",!0)])]))}}),[["__scopeId","data-v-7dc3e187"]]),I=h(null),K=h(null),F=h(new Map),R=h(!1),G=h(null);function O(){const{locale:e}=b();let t=null;const a=async(a=3,s=1e3)=>{if(K.value&&!R.value)return;t&&clearTimeout(t),R.value=!0,G.value=null;const o=async l=>{try{const t=new AbortController,a=setTimeout(()=>t.abort(),1e4),s=await fetch("en"===e.value?"/data/blog-list-en.json":"/data/blog-list-zh.json",{signal:t.signal,cache:"no-cache",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(clearTimeout(a),!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const o=await s.json();if(!o||!Array.isArray(o.posts))throw new Error("Invalid data structure received");K.value=o,G.value=null}catch(r){if(l<a){const e=s*Math.pow(2,l-1);return await new Promise(a=>{t=setTimeout(a,e)}),o(l+1)}{const e=r instanceof Error?r.message:"Failed to load blog list data";throw G.value=`${e} (after ${a} attempts)`,r}}};try{await o(1)}catch(l){}finally{R.value=!1,t&&(clearTimeout(t),t=null)}},s=async e=>{if(F.value.has(e))return F.value.get(e);try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();return F.value.set(e,a),a}catch(t){return null}},o=k(()=>K.value?.posts||[]),l=k(()=>o.value.filter(e=>e.featured)),r=k(()=>[...o.value].sort((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()).slice(0,6)),i=k(()=>K.value?.categories||[]),n=k(()=>K.value?.tags||[]),c=e=>o.value.find(t=>t.slug===e);return{blogData:I,blogListData:K,postContentCache:F,loading:R,error:G,posts:o,featuredPosts:l,latestPosts:r,categories:i,tags:n,loadBlogData:async()=>{await a()},loadBlogListData:a,refreshBlogListData:async(e=3,t=1e3)=>{K.value=null,await a(e,t)},loadPostContent:s,getPostsByCategory:e=>o.value.filter(t=>t.category.toLowerCase()===e.toLowerCase()||i.value.find(t=>t.id===e)?.name===t.category),getPostsByTag:e=>o.value.filter(t=>t.tags.some(t=>t.toLowerCase()===e.toLowerCase())),getPostListItemBySlug:c,getPostBySlug:async e=>{const t=c(e);return t?await s(t.contentPath):null},searchPosts:e=>{const t=e.toLowerCase();return o.value.filter(e=>e.title.toLowerCase().includes(t)||e.excerpt.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))},getRelatedPosts:(e,t=3)=>o.value.filter(t=>t.id!==e.id&&(t.category===e.category||t.tags.some(t=>e.tags.includes(t)))).slice(0,t),formatDate:t=>new Date(t).toLocaleDateString("en"===e.value?"en-US":"zh-CN",{year:"numeric",month:"long",day:"numeric"}),getReadTimeText:t=>"en"===e.value?`${t} min read`:`${t} 分钟阅读`,getCategoryStats:()=>{const e=new Map;return o.value.forEach(t=>{const a=e.get(t.category)||0;e.set(t.category,a+1)}),Array.from(e.entries()).map(([e,t])=>({category:e,count:t}))},getTagStats:()=>{const e=new Map;return o.value.forEach(t=>{t.tags.forEach(t=>{const a=e.get(t)||0;e.set(t,a+1)})}),Array.from(e.entries()).map(([e,t])=>({tag:e,count:t})).sort((e,t)=>t.count-e.count)}}}const q={class:"home-page"},J={class:"gun-avatar-section"},Q={class:"gun-avatar-container"},W={class:"avatar-wrapper"},X={style:{width:"300px",height:"300px"}},Y=["data"],Z={class:"avatar-status"},ee={class:"status-text"},te={class:"keypair-info"},ae={class:"info-header"},se={class:"info-title"},oe={class:"keypair-display"},le={class:"key-field"},re={class:"key-label"},ie={class:"key-value"},ne={key:0,class:"key-field"},ce={class:"key-label"},ue={class:"key-value keypair-json"},de={class:"features-section"},ge={class:"features-container"},pe={class:"articles-section"},ve={class:"articles-header"},ke={class:"section-title"},he={class:"articles-grid"},me=C(e({__name:"index",setup(e){const{myPublicKey:l,myKeyPair:r,regenerateKeyPair:h}=x(),C=y(),{initLocale:M,locale:B,setLocale:D,t:L}=b(),{posts:H,loadBlogListData:A}=O(),S=_(),{iscolor:E}=T(),N=k(()=>H.value.slice(0,3));return m(()=>{M(),A()}),(e,k)=>(g(),t("div",q,[f(w,{title:"OpenSource","highlight-text":"Developer",subtitle:"Focus on: MeshNetwork-Decentralized-DeAi-DeRobot-DeSoc-DeGame"},{actions:n(()=>[f(u(d),{to:"/blog",class:"primary-button"},{default:n(()=>[a("span",null,i(u(L)("home.hero.startExploring")),1),k[1]||(k[1]=a("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1,__:[1]}),f(u(d),{to:"/about",class:"secondary-button"},{default:n(()=>[a("span",null,i(u(L)("home.hero.aboutMe")),1)]),_:1})]),_:1}),a("section",J,[a("div",Q,[a("div",W,[a("div",X,[(g(),t("object",{class:"avatar-object",type:"image/svg+xml",key:u(l),data:u(j)({pub:u(l),svg:"interactive",size:1e3,dark:u(E)})},null,8,Y))]),a("div",Z,[k[2]||(k[2]=a("span",{class:"status-indicator"},null,-1)),a("span",ee,i(u(l)?u(L)("home.gunAvatar.connected").toUpperCase():u(L)("home.gunAvatar.disconnected").toUpperCase()),1)])]),a("div",te,[a("div",ae,[a("h3",se,i(u(L)("home.gunAvatar.title")),1),a("button",{onClick:k[0]||(k[0]=(...e)=>u(h)&&u(h)(...e)),class:"generate-button"},[k[3]||(k[3]=a("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),a("span",null,i(u(L)("home.gunAvatar.regenerate").toUpperCase()),1)])]),a("div",oe,[a("div",le,[a("label",re,i(u(L)("home.gunAvatar.publicKey").toUpperCase())+":",1),a("div",ie,i(u(l)||u(L)("home.gunAvatar.notGenerated")),1)]),u(r)?(g(),t("div",ne,[a("label",ce,i(u(L)("home.gunAvatar.completeKeypair").toUpperCase())+":",1),a("div",ue,i(JSON.stringify(u(r),null,2)),1)])):o("",!0)])])])]),a("section",de,[a("div",ge,[f(P,{title:u(L)("home.features.techBlog.title"),description:u(L)("home.features.techBlog.description"),"link-to":"/blog","link-text":u(L)("home.features.techBlog.linkText"),"icon-class":"blue-glow"},{icon:n(()=>k[4]||(k[4]=[a("svg",{viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["title","description","link-text"]),f(P,{title:u(L)("home.features.meshNetwork.title"),description:u(L)("home.features.meshNetwork.description"),"link-to":"/network","link-text":u(L)("home.features.meshNetwork.linkText"),"icon-class":"green-glow"},{icon:n(()=>k[5]||(k[5]=[a("svg",{viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["title","description","link-text"]),f(P,{title:u(L)("home.features.innovativeProjects.title"),description:u(L)("home.features.innovativeProjects.description"),"link-to":"/projects","link-text":u(L)("home.features.innovativeProjects.linkText"),"icon-class":"purple-glow"},{icon:n(()=>k[6]||(k[6]=[a("svg",{viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["title","description","link-text"])])]),a("section",pe,[a("div",ve,[a("h2",ke,i(u(L)("home.articles.title")),1),f(u(d),{to:"/blog",class:"view-all-link"},{default:n(()=>[c(i(u(L)("home.articles.viewAll"))+" ",1),k[7]||(k[7]=a("svg",{class:"link-arrow",viewBox:"0 0 24 24",fill:"none"},[a("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1,__:[7]})]),a("div",he,[(g(!0),t(p,null,v(N.value,e=>(g(),s(V,{key:e.id,title:e.title,excerpt:e.excerpt,date:e.publishDate,category:e.category,tags:e.tags,onClick:t=>{return a=e.slug,S.setCurrentPostBySlug(a),void C.push("/blogpage");var a},"image-class":"blue-gradient"},null,8,["title","excerpt","date","category","tags","onClick"]))),128))])])]))}}),[["__scopeId","data-v-2f45a211"]]);export{me as default};
