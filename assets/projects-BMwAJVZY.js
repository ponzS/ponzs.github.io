import{d as e,h as s,x as a,j as t,i as l,p as c,k as r,c as o,a as i,t as n,u as p,e as u,y as d,z as h,n as v,F as g,g as j,A as k,f,B as y,m as b,o as m,_ as x}from"./index-CwfwMfXG.js";const C={class:"projects-page"},_={class:"projects-header"},S={class:"projects-container"},U={class:"header-content"},w={class:"page-title"},z={class:"page-description"},D={class:"projects-main"},F={class:"projects-container"},P={class:"filters-section"},L={class:"search-box"},$=["placeholder"],A={class:"category-filters"},B=["onClick"],G={key:0,class:"loading-state"},H={key:1,class:"error-state"},I={key:2,class:"projects-grid"},V=["onClick"],N={class:"project-cover"},T={key:0,class:"featured-badge"},Z={class:"project-info"},q={class:"project-meta"},E={class:"project-category"},J={class:"project-date"},K={class:"project-title"},M={class:"project-excerpt"},O={class:"project-author-stats"},Q={class:"project-author"},R={key:0,class:"project-stars"},W={class:"project-technologies"},X={key:0,class:"tech-more"},Y={class:"project-links"},ee=["href"],se=["href"],ae={key:3,class:"empty-state"},te=x(e({__name:"projects",setup(e){const x=b(),{t:te,isZh:le,locale:ce}=s(),{projects:re,categories:oe,loading:ie,error:ne,loadProjectData:pe,getProjectsByCategory:ue,searchProjects:de,formatDate:he,getStatusText:ve,getLocalizedValue:ge}=a(),je=t(""),ke=t(null),fe=l(()=>{let e=re.value;return ke.value&&(e=ue(ke.value)),je.value.trim()&&(e=de(je.value.trim())),e}),ye=async e=>{try{const s=e.match(/github\.com\/([^/]+)\/([^/]+)/);if(!s)return null;const[,a,t]=s,l=`https://api.github.com/repos/${a}/${t}`,c=await fetch(l);if(!c.ok)return null;return(await c.json()).stargazers_count||0}catch(s){return console.error("Failed to fetch GitHub stars:",s),null}};return c(ce,()=>{pe()}),r(async()=>{await pe(),(async()=>{for(const e of re.value)if(e.githubUrl&&void 0===e.githubStars){const s=await ye(e.githubUrl);if(null!==s){const a={...e,githubStars:s},t=re.value.findIndex(s=>s.id===e.id);-1!==t&&(re.value[t]=a)}}})()}),(e,s)=>(m(),o("div",C,[i("header",_,[i("div",S,[i("div",U,[i("h1",w,n(p(te)("nav.projects")),1),i("p",z,n(p(le)?"参与的去中心化网状网络开源项目":"Participated decentralized mesh network open source projects"),1)])])]),i("main",D,[i("div",F,[i("div",P,[i("div",L,[d(i("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>je.value=e),type:"text",placeholder:p(le)?"搜索项目...":"Search projects...",class:"search-input"},null,8,$),[[h,je.value]])]),i("div",A,[i("button",{onClick:s[1]||(s[1]=e=>ke.value=null),class:v(["filter-btn",{active:null===ke.value}])},n(p(le)?"全部":"All"),3),(m(!0),o(g,null,j(p(oe),e=>(m(),o("button",{key:e.id,onClick:s=>ke.value=e.id,class:v(["filter-btn",{active:ke.value===e.id}]),style:k({"--category-color":e.color})},n(e.name),15,B))),128))])]),p(ie)?(m(),o("div",G,[s[4]||(s[4]=i("div",{class:"loading-spinner"},null,-1)),i("p",null,n(p(le)?"加载项目中...":"Loading projects..."),1)])):p(ne)?(m(),o("div",H,[i("p",null,n(p(le)?"加载失败：":"Failed to load: ")+n(p(ne)),1)])):(m(),o("div",I,[(m(!0),o(g,null,j(fe.value,e=>{return m(),o("article",{key:e.id,class:"project-card",onClick:s=>{return a=e.slug,void x.push(`/projects/${a}`);var a}},[i("div",N,[s[5]||(s[5]=i("div",{class:"cover-placeholder checkerboard-bg"},[i("span",{class:"project-icon"},"📦")],-1)),i("div",{class:v(["project-status",e.status.toLowerCase()])},n(p(ve)(e.status)),3),e.featured?(m(),o("div",T," ⭐ ")):u("",!0)]),i("div",Z,[i("div",q,[i("span",E,n(e.category),1),i("span",J,n(p(he)(e.publishDate)),1)]),i("h2",K,n(p(ge)(e.title)),1),i("p",M,n(p(ge)(e.excerpt)),1),i("div",O,[i("span",Q,[s[6]||(s[6]=i("span",{class:"author-icon"},"👤",-1)),f(" "+n(e.author),1)]),void 0!==e.githubStars?(m(),o("span",R,[s[7]||(s[7]=i("span",{class:"star-icon"},"⭐",-1)),f(" "+n((a=e.githubStars,a>=1e3?(a/1e3).toFixed(1)+"k":a.toString())),1)])):u("",!0)]),i("div",W,[(m(!0),o(g,null,j(e.technologies.slice(0,4),e=>(m(),o("span",{key:e,class:"tech-tag"},n(e),1))),128)),e.technologies.length>4?(m(),o("span",X," +"+n(e.technologies.length-4),1)):u("",!0)]),i("div",Y,[e.githubUrl?(m(),o("a",{key:0,href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link github-link",onClick:s[2]||(s[2]=y(()=>{},["stop"]))},s[8]||(s[8]=[i("span",{class:"link-icon"},"🔗",-1),f(" GitHub ")]),8,ee)):u("",!0),e.demoUrl?(m(),o("a",{key:1,href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link demo-link",onClick:s[3]||(s[3]=y(()=>{},["stop"]))},[s[9]||(s[9]=i("span",{class:"link-icon"},"🚀",-1)),f(" "+n(p(le)?"演示":"Demo"),1)],8,se)):u("",!0)])])],8,V);var a}),128))])),p(ie)||p(ne)||0!==fe.value.length?u("",!0):(m(),o("div",ae,[i("p",null,n(p(le)?"没有找到匹配的项目":"No projects found"),1)]))])])]))}}),[["__scopeId","data-v-6a1936b8"]]);export{te as default};
